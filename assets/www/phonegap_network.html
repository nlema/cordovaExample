<!DOCTYPE HTML>
<html>
    <head>
        <title>PhoneGap Network</title>
        <meta http-equiv="Content-Type" content="text/html charset=UTF-8" />
		<meta name="format-detection" content="telephone=no" />
		<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
		<link rel="stylesheet" href="css/jquery.mobile-1.2.0.min.css" />
		<link rel="stylesheet" href="css/jquery.mobile.structure-1.2.0.min.css" />
		<link rel="stylesheet" type="text/css" href="css/index.css" />
		<script src="js/jquery-1.8.3.min.js"></script>
		<script src="js/jquery.mobile-1.2.0.min.js"></script>
		<script type="text/javascript" src="js/cordova-2.2.0.js"></script>
        <script type="text/javascript">
            
            
            /** Llamado cuando el javascript de phonegap esta cargado */
            function onDeviceReady(){
                chequeoConeccion();
                
            }
            
            function chequeoConeccion(){
                try {
                
                    navigator.network.isReachable("http://www.google.com", function(index){
                        var status = {};
                        status[NetworkStatus.NOT_REACHABLE] = "no llegamos :(";
                        status[NetworkStatus.REACHABLE_VIA_CARRIER_DATA_NETWORK] = "llegamos con el celu";
                        status[NetworkStatus.REACHABLE_VIA_WIFI_NETWORK] = "llegamos con la red wifi";
                        
                        document.getElementById("network-status").innerHTML = "Atencion al sitio http://www.google.com  " + status[index];
                    }, function(err){
                        alert(err);
                    })
                } 
                catch (err) {
                    alert(err);
                }
            }
            
            /** Llamado cuando el browser carga esta pagina*/
            function init(){
                document.addEventListener("deviceready", onDeviceReady, false);
            }
        </script>
    </head>
    <body onLoad="init()">
        <h3>Info de la red del dispositivo</h3>
        <div id="network-status">
        </div>
    </body>
</html>
